<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Bank Details - EMIS</title>

  <!-- React & Babel CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
  }

  th {
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    color: white;
    padding: 10px;
    text-align: left;
  }

  td {
    padding: 10px;
    border-bottom: 1px solid #ddd;
  }

  tr:hover {
    background-color: #f1f1f1;
  }

  .status-yes {
    background-color: #d4edda;
    color: #155724;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
  }

  .status-no {
    background-color: #f8d7da;
    color: #721c24;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
  }
</style>
</head>

<body style="margin:0">
  <div id="root"></div>

  <!-- Main React Code -->
  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    const StudentBankDetails = () => {
      const [students, setStudents] = useState([]);
      const [filteredStudents, setFilteredStudents] = useState([]);
      const [loading, setLoading] = useState(true);
      const [selectedClass, setSelectedClass] = useState('');
      const [selectedSection, setSelectedSection] = useState('');
      const [searchKeyword, setSearchKeyword] = useState('');
      const [currentPage, setCurrentPage] = useState(1);
      const itemsPerPage = 10;

      useEffect(() => {
        const data = [
          { id: 1, studentName: 'Rahul Kumar', studentEmisId: 'EMIS001234', class: '10', section: 'A', bankAccountAvailable: 'Yes', postalBankAccount: 'Yes' },
          { id: 2, studentName: 'Priya Sharma', studentEmisId: 'EMIS001235', class: '10', section: 'B', bankAccountAvailable: 'No', postalBankAccount: 'No' },
          { id: 3, studentName: 'Amit Singh', studentEmisId: 'EMIS001236', class: '11', section: 'A', bankAccountAvailable: 'Yes', postalBankAccount: 'Yes' },
          { id: 4, studentName: 'Sneha Patel', studentEmisId: 'EMIS001237', class: '11', section: 'B', bankAccountAvailable: 'Yes', postalBankAccount: 'No' }
        ];
        setStudents(data);
        setFilteredStudents(data);
        setLoading(false);
      }, []);

      useEffect(() => {
        let result = [...students];
        if (selectedClass) result = result.filter(s => s.class === selectedClass);
        if (selectedSection) result = result.filter(s => s.section === selectedSection);
        if (searchKeyword) {
          const k = searchKeyword.toLowerCase();
          result = result.filter(s =>
            s.studentName.toLowerCase().includes(k) ||
            s.studentEmisId.toLowerCase().includes(k)
          );
        }
        setFilteredStudents(result);
        setCurrentPage(1);
      }, [students, selectedClass, selectedSection, searchKeyword]);

      const start = (currentPage - 1) * itemsPerPage;
      const pageData = filteredStudents.slice(start, start + itemsPerPage);
      const totalPages = Math.ceil(filteredStudents.length / itemsPerPage);

      return (
        <div style={{ padding: '20px', fontFamily: 'Arial' }}>
          <h2>Student Bank Details</h2>

          <input
            placeholder="Search..."
            value={searchKeyword}
            onChange={e => setSearchKeyword(e.target.value)}
            style={{ padding: '8px', marginBottom: '10px', width: '250px' }}
          />

          <table border="1" cellPadding="8" cellSpacing="0" width="100%">
            <thead>
              <tr>
                <th>S.No</th>
                <th>EMIS ID</th>
                <th>Name</th>
                <th>Class</th>
                <th>Section</th>
                <th>Bank Account</th>
                <th>Postal Bank</th>
              </tr>
            </thead>
            <tbody>
              {loading ? (
                <tr><td colSpan="7">Loading...</td></tr>
              ) : pageData.length === 0 ? (
                <tr><td colSpan="7">No records</td></tr>
              ) : (
                pageData.map((s, i) => (
                  <tr key={s.id}>
                    <td>{start + i + 1}</td>
                    <td>{s.studentEmisId}</td>
                    <td>{s.studentName}</td>
                    <td>{s.class}</td>
                    <td>{s.section}</td>
                   <td>
  <span className={student.bankAccountAvailable === 'Yes' ? 'status-yes' : 'status-no'}>
    {student.bankAccountAvailable}
  </span>
</td>

<td>
  <span className={student.postalBankAccount === 'Yes' ? 'status-yes' : 'status-no'}>
    {student.postalBankAccount}
  </span>
</td>
                  </tr>
                ))
              )}
            </tbody>
          </table>

          <div style={{ marginTop: '10px' }}>
            <button onClick={() => setCurrentPage(p => Math.max(p - 1, 1))}>Prev</button>
            <span style={{ margin: '0 10px' }}>
              Page {currentPage} of {totalPages}
            </span>
            <button onClick={() => setCurrentPage(p => Math.min(p + 1, totalPages))}>Next</button>
          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<StudentBankDetails />);
  </script>
</body>
</html>
